(this["webpackJsonpkoma-projekt"]=this["webpackJsonpkoma-projekt"]||[]).push([[0],{117:function(e,a){},119:function(e,a){},131:function(e,a){},132:function(e,a){},133:function(e,a){},160:function(e,a){},174:function(e,a,t){},185:function(e,a,t){},186:function(e,a,t){},189:function(e,a,t){},190:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(41),l=t.n(c),o=(t(87),t(88),t(1)),u=t(23),m=t(21),i=t.n(m),s=t(30),p=t(70),h=t.n(p),d=t(31),v=t.n(d),E=t(71),f=t.n(E),b=t(72),g=t.n(b),y=t(73),C=t.n(y),x=t(74),w=t.n(x),k=t(75),N=t.n(k),_=t(76),S=t.n(_),O=t(77),I=t.n(O),P=t(78),j=t.n(P),M=t(79),T=t.n(M),H=t(90);function L(e,a){H.exists("characters.json",(function(t){t?H.readFile("characters.json","utf8",(function(t,n){if(t)throw t;e(JSON.parse(n)),a(!0)})):H.writeFile("characters.json",[],"utf8",(function(e){if(e)throw e}))}))}function X(e,a){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(i.a.mark((function e(a,t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.writeFile("characters.json",JSON.stringify(a),"utf8",(function(e){if(e)throw e;t(!0)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,a,t){for(var n=0;n<e.length;n++)if(e[n][a]===t)return n;return-1}function z(){return(z=Object(s.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.writeFile("stat_types.json",JSON.stringify(a),"utf8",(function(e){if(e)throw e}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){switch(e.toLowerCase()){case"mage":return v.a;case"elf":return h.a;case"orc":return f.a;case"rogue":return g.a;case"knight":return C.a;default:return v.a}}function R(e){switch(e.toLowerCase()){case"strength":return S.a;case"intelligence":return N.a;case"wisdom":return I.a;case"constitution":return w.a;case"dexterity":return T.a;case"charisma":return j.a;default:return v.a}}t(174);var W=t(9),F=t.n(W),q=(t(185),0),V=1,U=2,J=3;var Y=function(e){var a=r.a.useState(""),t=Object(o.a)(a,2),n=t[0],c=t[1],l=r.a.useState(1),u=Object(o.a)(l,2),m=u[0],i=u[1],s=r.a.useState(1),p=Object(o.a)(s,2),h=p[0],d=p[1],v=r.a.useState(""),E=Object(o.a)(v,2),f=E[0],b=E[1],g=r.a.useState(""),y=Object(o.a)(g,2),C=y[0],x=y[1],w=r.a.useState(!1),k=Object(o.a)(w,2),N=k[0],_=k[1],S=r.a.useState([]),O=Object(o.a)(S,2),I=O[0],P=O[1],j=function(){P([]),_(!1)},M=function(a){var t=!0;P([]);var r,l,o,u,s=[];if(""===n&&(t=!1,s[q]=!0),""===f&&(t=!1,s[V]=!0),m<=0&&(t=!1,s[U]=!0),h<=0&&(t=!1,s[J]=!0),P(s),t){var p=(r=h,l=m,o=f,u=C,{name:n,hp:parseInt(r),max_hp:parseInt(r),temporary_hp:0,level:1,xp:0,max_xp:parseInt(l),campaign_name:o,class_name:u,copper:0,silver:0,electrum:0,gold:0,platinum:0,core_info:[{name:"Background",text:"Cool background",type:"traits"},{name:"Race",text:"Best race",type:"traits"},{name:"Proficiency Bonus",level:0,type:"skill"},{name:"Alignment",text:"Everything",type:"traits"},{name:"Personality traits",text:"just good ones",type:"traits"},{name:"Ideals",text:"You can guess",type:"traits"},{name:"Bonds",text:"Who knows",type:"traits"},{name:"Flaws",text:"None",type:"traits"}],base_stats:[{name:"strength",level:10},{name:"dexterity",level:10},{name:"constitution",level:10},{name:"intelligence",level:10},{name:"wisdom",level:10},{name:"charisma",level:10}],stats:[{name:"Acrobatics",level:0,type:"skill",baseType:"Dexterity"},{name:"Animal Handling",level:0,type:"skill",baseType:"Wisdom"},{name:"Arcana",level:0,type:"skill",baseType:"Intelligence"},{name:"Athletics",level:0,type:"skill",baseType:"Strength"},{name:"Deception",level:0,type:"skill",baseType:"Charisma"},{name:"History",level:0,type:"skill",baseType:"Intelligence"},{name:"Insight",level:0,type:"skill",baseType:"Wisdom"},{name:"Intimidation",level:0,type:"skill",baseType:"Charisma"},{name:"Investigation",level:0,type:"skill",baseType:"Intelligence"},{name:"Medicine",level:0,type:"skill",baseType:"Wisdom"},{name:"Nature",level:0,type:"skill",baseType:"Intelligence"},{name:"Perception",level:0,type:"skill",baseType:"Wisdom"},{name:"Performance",level:0,type:"skill",baseType:"Charisma"},{name:"Persuasion",level:0,type:"skill",baseType:"Charisma"},{name:"Religion",level:0,type:"skill",baseType:"Intelligence"},{name:"Sleight of Hand",level:0,type:"skill",baseType:"Dexterity"},{name:"Stealth",level:0,type:"skill",baseType:"Dexterity"},{name:"Survival",level:0,type:"skill",baseType:"Wisdom"},{name:"Passive Wisdom (Perception)",level:0,type:"skills",baseType:"None"},{name:"English",level:0,type:"language",baseType:"None "}],inventory:[{name:"Equipment template",cost:"cost in whatever",amount:0,desc:"some text",type:"equipment"}],combats:[{name:"Strength",value:0,type:"savingThrows"},{name:"Dexterity",value:0,type:"savingThrows"},{name:"Constitution",value:0,type:"savingThrows"},{name:"Intelligence",value:0,type:"savingThrows"},{name:"Wisdom",value:0,type:"savingThrows"},{name:"Charisma",value:0,type:"savingThrows"},{name:"Armour Class",value:0},{name:"Initiative",value:0},{name:"Speed",value:0},{name:"Hit Dice",value:0,total:0},{name:"Death Saves",successes:0,failures:0}]});0===e.characters.length?p.ID=1:p.ID=e.characters[e.characters.length-1].ID+1,e.characters.push(p),X(e.characters,e.setHasSaved),e.setCharacters(e.characters),j(),c(""),i(0),d(0),b(""),x("Mage")}};return r.a.createElement("div",{className:"CharacterCreation"},r.a.createElement("p",{onClick:function(){_(!0)}},"Create a new character +"),r.a.createElement(F.a,{isOpen:N,onRequestClose:function(){return j()},shouldCloseOnOverlayClick:!0,className:"Modal1"},r.a.createElement("div",{className:"FormplusButton"},r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement("p",null,"Character Name",!0===I[q]&&r.a.createElement("span",{className:"error-message"},"Invalid Character Name!")),r.a.createElement("input",{type:"text",name:"name",value:n,placeholder:"Name",onChange:function(e){return c(e.target.value)}})),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("p",null,"Initial Max HP",!0===I[J]&&r.a.createElement("span",{className:"error-message"},"Initial Max HP Invalid!")),r.a.createElement("input",{type:"number",name:"hp",value:h,onChange:function(e){return d(e.target.value)}})),r.a.createElement("label",null,r.a.createElement("p",null,"Initial Max XP",!0===I[U]&&r.a.createElement("span",{className:"error-message"},"Initial Max XP Invalid!")),r.a.createElement("input",{type:"number",name:"init_max_xp",value:m,onChange:function(e){return i(e.target.value)}})),r.a.createElement("label",null,r.a.createElement("p",null,"Campaign Name",!0===I[V]&&r.a.createElement("span",{className:"error-message"},"Invalid Campaign Name!")),r.a.createElement("input",{type:"text",name:"campaign_name",value:f,placeholder:"Campaign Name",onChange:function(e){return b(e.target.value)}})),r.a.createElement("label",null,r.a.createElement("p",null,"Class"),r.a.createElement("select",{name:"Class",value:C,onChange:function(e){x(e.target.value)}},["Mage","Elf","Orc","Rogue","Knight"].map((function(e,a){return r.a.createElement("option",{key:a,value:e},e)})))),r.a.createElement("br",null)),r.a.createElement("button",{onClick:function(){M()}},"Create"))))};t(186);function G(e){return r.a.createElement("div",{className:"characterOption"},r.a.createElement("img",{src:A(e.character.class_name),alt:"placeholder"}),r.a.createElement(u.b,{to:"/character_page/"+e.character.ID},r.a.createElement("h3",null,e.character.name),r.a.createElement("h5",null,"Campaign: ",e.character.campaign_name)),r.a.createElement("button",{onClick:function(a){e.removeCallback(e.character.ID)}},"Delete"))}var K=function(){var e=r.a.useState([]),a=Object(o.a)(e,2),t=a[0],n=a[1],c=r.a.useState(!1),l=Object(o.a)(c,2),u=l[0],m=l[1],i=r.a.useState(!1),s=Object(o.a)(i,2),p=s[0],h=s[1];u||L(n,m),p&&h(!1);var d=function(e){t.splice(t.findIndex((function(a){return a.ID===e})),1),X(t,h)};return r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("p",null,"..."),r.a.createElement("img",{src:"logo.png"}),r.a.createElement("p",null,"...")),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"CharacterSelect"},r.a.createElement("h3",null,"Select Character:"),r.a.createElement("div",{className:"characterList"},0===t.length&&r.a.createElement("h2",null,"You have no characters!"),t.map((function(e,a){return r.a.createElement(G,{key:a,character:e,removeCallback:d})}))),r.a.createElement("div",{className:"createNew"},r.a.createElement(Y,{characters:t,setCharacters:n,setHasSaved:h})))))};t(189);var $=function(){return r.a.createElement("div",null,r.a.createElement("button",{className:"toTop",onClick:function(){window.scrollTo(0,0)}},"Go To Top"))};F.a.setAppElement("#root");var Q=["Weapon","Potion","Misc"];function Z(e){var a=e.character,t=function(t){a.hp+=parseInt(t),e.updatedCharacter(a)},n=r.a.useState(!1),c=Object(o.a)(n,2),l=c[0],m=c[1],i=function(){m(!0)},s=function(){m(!1)},p=r.a.useState(!1),h=Object(o.a)(p,2),d=h[0],v=h[1],E=function(){v(!0)},f=function(){v(!1)},b=function(a){e.setCurrentPage(a)},g=r.a.useState(!1),y=Object(o.a)(g,2),C=y[0],x=y[1];return r.a.createElement("div",{className:"CharacterHeader"},r.a.createElement("nav",null,r.a.createElement(u.b,{to:"/"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{opacity:".87",fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M16.62 2.99c-.49-.49-1.28-.49-1.77 0L6.54 11.3c-.39.39-.39 1.02 0 1.41l8.31 8.31c.49.49 1.28.49 1.77 0s.49-1.28 0-1.77L9.38 12l7.25-7.25c.48-.48.48-1.28-.01-1.76z"}))," "),r.a.createElement("img",{src:"../../logo.png"}),r.a.createElement("a",{className:"invisible"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{opacity:".87",fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M16.62 2.99c-.49-.49-1.28-.49-1.77 0L6.54 11.3c-.39.39-.39 1.02 0 1.41l8.31 8.31c.49.49 1.28.49 1.77 0s.49-1.28 0-1.77L9.38 12l7.25-7.25c.48-.48.48-1.28-.01-1.76z"})))),r.a.createElement("div",{className:"section-1"},r.a.createElement("img",{alt:"Character Error",src:A(a.class_name)}),r.a.createElement("div",{className:"text"},r.a.createElement("div",null,r.a.createElement("h2",null," ",a.name," "),r.a.createElement("h3",null,"Lv.",a.level)),r.a.createElement("p",null,a.campaign_name))),r.a.createElement("div",{className:"HP",onClick:function(e){i()}},r.a.createElement("p",null," HP: ",a.hp,"/",a.max_hp+a.temporary_hp," ",a.temporary_hp>0&&r.a.createElement("span",null,"(",a.temporary_hp,")")," "),r.a.createElement("div",{className:"innerHP",style:C?{width:100*(1-(a.hp-a.max_hp)/(a.max_hp+a.temporary_hp))+"%"}:{width:a.hp/a.max_hp*100+"%"}}," "),r.a.createElement("div",{className:"temporaryHP",style:C?{width:(a.hp-a.max_hp)/(a.max_hp+a.temporary_hp)*100+"%"}:{}})),a.xp>=a.max_xp&&r.a.createElement("button",{className:"lvlUp",onClick:function(e){E()}},"Level Up!"),r.a.createElement("div",{className:"XP",onClick:function(e){i()}},r.a.createElement("div",{className:"innerXP",style:{width:a.xp/a.max_xp*100+"%"}},r.a.createElement("p",null," XP: ",a.xp,"/",a.max_xp))),"stats"===e.currentPage&&r.a.createElement("div",{className:"menu"},r.a.createElement("button",{className:"active",onClick:function(){return b("stats")}},"Stats"),r.a.createElement("button",{onClick:function(){return b("inventory")}},"Inventory"),r.a.createElement("button",{onClick:function(){return b("combat")}},"Combat")),"inventory"===e.currentPage&&r.a.createElement("div",{className:"menu"},r.a.createElement("button",{onClick:function(){return b("stats")}},"Stats"),r.a.createElement("button",{className:"active",onClick:function(){return b("inventory")}},"Inventory"),r.a.createElement("button",{onClick:function(){return b("combat")}},"Combat")),"combat"===e.currentPage&&r.a.createElement("div",{className:"menu"},r.a.createElement("button",{onClick:function(){return b("stats")}},"Stats"),r.a.createElement("button",{onClick:function(){return b("inventory")}},"Inventory"),r.a.createElement("button",{className:"active",onClick:function(){return b("combat")}},"Combat")),r.a.createElement(F.a,{isOpen:l,onRequestClose:function(){return s()},shouldCloseOnOverlayClick:!0,className:"Modal HPandXPModal"},r.a.createElement("button",{className:"closeModal",onClick:function(){return s()}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}))),r.a.createElement("h2",null,"HP and XP"),r.a.createElement("div",{className:"modalBar"},a.hp<a.max_hp+a.temporary_hp&&r.a.createElement("button",{className:"healFull",onClick:function(){return t(a.max_hp+a.temporary_hp-a.hp)}},"Heal To Full Health!"),r.a.createElement("div",{className:"HP"},r.a.createElement("p",null," HP: ",a.hp,"/",a.max_hp+a.temporary_hp," ",a.temporary_hp>0&&r.a.createElement("span",null,"(",a.temporary_hp,")")," "),r.a.createElement("div",{className:"innerHP",style:C?{width:100*(1-(a.hp-a.max_hp)/(a.max_hp+a.temporary_hp))+"%"}:{width:a.hp/a.max_hp*100+"%"}}),r.a.createElement("div",{className:"temporaryHP",style:C?{width:(a.hp-a.max_hp)/(a.max_hp+a.temporary_hp)*100+"%"}:{}})),a.xp>=a.max_xp&&r.a.createElement("button",{className:"lvlUp lvlUp-inModal",onClick:function(e){E()}},"Level Up!"),r.a.createElement("div",{className:"XP"},r.a.createElement("div",{className:"innerXP",style:{width:a.xp/a.max_xp*100+"%"}},r.a.createElement("p",null," XP: ",a.xp,"/",a.max_xp)))),r.a.createElement(ae,{updateMaxXP:function(t){a.max_xp+=t,e.updatedCharacter(a)},updateXP:function(t){a.xp+=t,e.updatedCharacter(a)},updateMaxHP:function(t){a.max_hp+=parseInt(t),e.updatedCharacter(a)},updateHP:t,updateTemporaryHP:function(t){a.temporary_hp+=parseInt(t),e.updatedCharacter(a)},showTemporary:function(e,a){x(e>0&&e<=a)},character:e.character})),r.a.createElement(F.a,{isOpen:d,onRequestClose:function(){return f()},className:"Modal lvlUpModal"},r.a.createElement(ee,{character:a,updatedCharacter:e.updatedCharacter,closeModal:f})))}function ee(e){var a=r.a.useState(0),t=Object(o.a)(a,2),n=t[0],c=t[1],l=r.a.useState(0),u=Object(o.a)(l,2),m=u[0],i=u[1];return r.a.createElement("div",{className:"levelUpModal"},r.a.createElement("button",{className:"closeModal",onClick:function(){return e.closeModal()}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}))),r.a.createElement("h2",null,"You Leveled Up!"),""!=m&&r.a.createElement("h4",null,"New HP Cap: ",e.character.max_hp," + ",m," = ",parseInt(e.character.max_hp)+parseInt(m)," "),""==m&&r.a.createElement("h4",null,"New HP Cap: ",e.character.max_hp," + 0 = ",e.character.max_hp),r.a.createElement("input",{className:"green-border",type:"number",placeholder:"Increase HP By",value:m,onChange:function(e){i(e.target.value)}}),""!=n&&r.a.createElement("h4",null,"New XP Cap: ",e.character.max_xp," + ",m," = ",parseInt(e.character.max_xp)+parseInt(n)," "),""==n&&r.a.createElement("h4",null,"New XP Cap: ",e.character.max_xp," + 0 = ",e.character.max_xp),r.a.createElement("input",{className:"blue-border",type:"number",placeholder:"Increase XP By",value:n,onChange:function(e){c(e.target.value)}}),r.a.createElement("p",null,"Overflowed XP will be carried over to your next level."),r.a.createElement("button",{onClick:function(a){e.character.level++,e.character.xp-=e.character.max_xp,e.character.max_xp+=parseInt(n),e.character.max_hp+=parseInt(m),e.character.hp+=parseInt(m),e.updatedCharacter(e.character),e.character.xp<e.character.max_xp&&e.closeModal()}},"Do It!"))}function ae(e){var a=r.a.useState(1),t=Object(o.a)(a,2),n=t[0],c=t[1],l=r.a.useState(1),u=Object(o.a)(l,2),m=u[0],i=u[1],s=r.a.useState(1),p=Object(o.a)(s,2),h=p[0],d=p[1],v=r.a.useState(1),E=Object(o.a)(v,2),f=E[0],b=E[1],g=r.a.useState(1),y=Object(o.a)(g,2),C=y[0],x=y[1],w=function(a){0!==n&&(e.character.hp+n*a<=0?e.updateHP(e.character.hp*a):e.updateHP(n*a),e.showTemporary(e.character.hp-e.character.max_hp,e.character.temporary_hp))},k=function(a){0!==m&&(e.character.max_hp+m*a<=1?e.updateHP((e.character.max_hp-1)*a):e.updateMaxHP(m*a),e.showTemporary(e.character.hp-e.character.max_hp,e.character.temporary_hp))},N=function(a){-2===a?(e.updateTemporaryHP(-e.character.temporary_hp),e.showTemporary(e.character.hp-e.character.max_hp,e.character.temporary_hp),e.character.hp>e.character.max_hp&&e.updateHP(-1*(e.character.hp-e.character.max_hp))):0!==h&&(e.character.temporary_hp+h*a<=0?(e.character.hp-e.character.max_hp===e.character.temporary_hp&&e.updateHP(e.character.temporary_hp*a),e.updateTemporaryHP(e.character.temporary_hp*a)):((e.character.hp===e.character.max_hp+e.character.temporary_hp||a>0)&&e.updateHP(h*a),e.updateTemporaryHP(h*a)),e.showTemporary(e.character.hp-e.character.max_hp,e.character.temporary_hp))},_=function(a){0!==f&&e.updateXP(f*a)},S=function(a){0!==C&&e.updateMaxXP(C*a)};return r.a.createElement("div",{className:"infoHPXP"},r.a.createElement("div",{className:"HP-change info-change"},r.a.createElement("h4",null,"Current HP: ",e.character.hp," "),r.a.createElement("div",{className:"input-group"},r.a.createElement("button",{onClick:function(e){w(-1)}},"-"),r.a.createElement("input",{className:"green-border",type:"number",value:n,onChange:function(e){var a=e.target.value;a>=0&&c(a)}}),r.a.createElement("button",{onClick:function(e){w(1)}},"+"))),r.a.createElement("div",{className:"HP-change info-change"},r.a.createElement("h4",null,"Max HP: ",e.character.max_hp," "),r.a.createElement("div",{className:"input-group"},r.a.createElement("button",{onClick:function(e){k(-1)}},"-"),r.a.createElement("input",{className:"green-border",type:"number",value:m,onChange:function(e){var a=e.target.value;a>=0&&i(a)}}),r.a.createElement("button",{onClick:function(e){k(1)}},"+"))),r.a.createElement("div",{className:"HP-change info-change"},r.a.createElement("h4",null,"Temporary hp HP: ",e.character.temporary_hp," ",e.character.temporary_hp>0&&r.a.createElement("button",{className:"remove-temp",onClick:function(e){N(-2)}},"Remove")),r.a.createElement("div",{className:"input-group"},r.a.createElement("button",{onClick:function(e){N(-1)}},"-"),r.a.createElement("input",{className:"yellow-border",type:"number",value:h,onChange:function(e){var a=e.target.value;a>=0&&d(a)}}),r.a.createElement("button",{onClick:function(e){N(1)}},"+"))),r.a.createElement("div",{className:"XP-change info-change"},r.a.createElement("h4",null,"Current XP: ",e.character.xp),r.a.createElement("div",{className:"input-group"},r.a.createElement("button",{onClick:function(e){_(-1)}},"-"),r.a.createElement("input",{className:"blue-border",type:"number",value:f,onChange:function(e){e.target.value>=0&&b(e.target.value)}}),r.a.createElement("button",{onClick:function(e){_(1)}},"+"))),r.a.createElement("div",{className:"XP-change info-change"},r.a.createElement("h4",null,"Max XP: ",e.character.max_xp),r.a.createElement("div",{className:"input-group"},r.a.createElement("button",{onClick:function(e){S(-1)}},"-"),r.a.createElement("input",{className:"blue-border",type:"number",placeholder:"Incrementation",value:C,onChange:function(e){e.target.value>=0&&x(e.target.value)}}),r.a.createElement("button",{onClick:function(e){S(1)}},"+"))))}function te(e){var a=r.a.useState(!1),t=Object(o.a)(a,2),n=t[0],c=t[1],l=function(){c(!1)},u=function(a){e.character.base_stats.find((function(a){return a.name===e.base_stat.name})).level+=a,e.updatedCharacter(e.character)},m=Math.floor((e.base_stat.level-10)/2);return r.a.createElement("div",{className:"BaseStatCard"},r.a.createElement(F.a,{isOpen:n,onRequestClose:function(){return l()},shouldCloseOnOverlayClick:!0,className:"Modal BaseStatModal"},r.a.createElement("button",{className:"closeModal",onClick:function(){return l()}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}))),r.a.createElement("h2",null,e.base_stat.name),m>=0&&r.a.createElement("h5",null,"Modifier: +",m),m<0&&r.a.createElement("h5",null,"Modifier: ",m),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return u(-1)}},"-1"),r.a.createElement("p",null,e.base_stat.level),r.a.createElement("button",{onClick:function(){return u(1)}},"+1"))),r.a.createElement("div",{className:"baseStat",onClick:function(){c(!0)}},r.a.createElement("img",{className:"baseStatImage",src:R(e.base_stat.name)}),m>=0&&r.a.createElement("div",null,r.a.createElement("p",null,e.base_stat.level)," ",r.a.createElement("p",null,"+",m)),m<0&&r.a.createElement("div",null,r.a.createElement("p",null,e.base_stat.level)," ",r.a.createElement("p",null,m))))}function ne(e){var a=r.a.useState(!1),t=Object(o.a)(a,2),n=t[0],c=t[1],l=function(){c(!0)},u=function(){c(!1)},m=function(a){e.character.stats.find((function(a){return a.name===e.stat.name})).level+=a,e.updatedCharacter(e.character)};return r.a.createElement("div",{className:"StatCard Card"},r.a.createElement("div",{onClick:function(){return l()}},r.a.createElement("p",null,e.stat.name," "),r.a.createElement("p",{onClick:function(){return l()}}," Lv: ",e.stat.level)),r.a.createElement(F.a,{isOpen:n,onRequestClose:function(){return u()},shouldCloseOnOverlayClick:!0,className:"Modal modalStatCard"},r.a.createElement("button",{className:"closeModal",onClick:function(){return u()}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}))),r.a.createElement("h2",null,e.stat.name),r.a.createElement("h5",null,e.stat.type),r.a.createElement("div",{className:"statDisplay"},r.a.createElement("button",{onClick:function(){return m(-1)}},"-1"),r.a.createElement("p",null,e.stat.level),r.a.createElement("button",{onClick:function(){return m(1)}},"+1")),r.a.createElement("button",{className:"remove-btn",onClick:function(){return e.character.stats.splice(e.character.stats.findIndex((function(a){return a.name===e.stat.name})),1),e.updatedCharacter(e.character),void u()}},"Remove Stat")))}function re(e){var a,t=r.a.useState(""),n=Object(o.a)(t,2),c=n[0],l=n[1],u=r.a.useState("Other"),m=Object(o.a)(u,2),i=m[0],s=m[1],p=r.a.useState(0),h=Object(o.a)(p,2),d=h[0],v=h[1],E=r.a.useState(!1),f=Object(o.a)(E,2),b=f[0],g=f[1],y=r.a.useState([]),C=Object(o.a)(y,2),x=C[0],w=C[1],k=r.a.useState([]),N=Object(o.a)(k,2),_=N[0],S=N[1],O=r.a.useState(!1),I=Object(o.a)(O,2),P=I[0],j=I[1];0===_.length&&(a=S,H.exists("stat_types.json",(function(e){e?H.readFile("stat_types.json","utf8",(function(e,t){if(e)throw e;a(JSON.parse(t))})):H.writeFile("stat_types.json",JSON.stringify(["Skill","Language","Trait"]),"utf8",(function(e){if(e)throw e}))})));var M=function(){w([]),g(!1)},T=r.a.useState(""),L=Object(o.a)(T,2),X=L[0],D=L[1],B=e.character.stats;if(""!==X){var A=["name","type"];B=B.filter((function(e){var a=!1;return A.forEach((function(t){-1!==e[t].toLowerCase().indexOf(X.toLocaleLowerCase())&&(a=!0)})),a}))}B.sort((function(e,a){return e.name>a.name?1:a.name>e.name?-1:0}));var R=function(){w([]);var a,t=!0,n=[];if(""===c&&(t=!1,n.push("Invalid Stat Name")),""===i&&(t=!1,n.push("Invalid Stat Type")),d<0&&(t=!1,n.push("Invalid Stat Level")),w(n),t){var r=(a=i,{name:c,level:parseInt(d),type:a,baseType:"none"});if(e.character.stats.push(r),e.updatedCharacter(e.character),l(""),s("Skill"),v(0),j(!1),P&&-1===_.indexOf(i)){var o=_;o.push(i),S(o),function(e){z.apply(this,arguments)}(_)}M()}};return r.a.createElement("div",{className:"Stats page"},r.a.createElement("div",{className:"baseStats"},e.character.base_stats.map((function(a,t){return r.a.createElement(te,{key:t,base_stat:a,character:e.character,updatedCharacter:e.updatedCharacter})}))),r.a.createElement("button",{className:"addStatBtn",onClick:function(){g(!0)}},"+"),r.a.createElement("svg",{className:"search-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})),r.a.createElement("input",{className:"searchbar",type:"text",placeholder:"Search Name or Type of Stat",onChange:function(e){D(e.target.value)}}),B.map((function(a,t){return r.a.createElement(ne,{key:t,stat:a,character:e.character,updatedCharacter:e.updatedCharacter})})),r.a.createElement($,null),r.a.createElement(F.a,{isOpen:b,onRequestClose:function(){return M()},shouldCloseOnOverlayClick:!0,className:"Modal addStatModal"},r.a.createElement("button",{className:"closeModal",onClick:function(){return M()}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}))),r.a.createElement("h2",null,"Add a New Stat!"),r.a.createElement("form",null,r.a.createElement("p",null,"Stat Name"),r.a.createElement("input",{type:"text",placeholder:"Stat Name",onChange:function(e){l(e.target.value)}}),r.a.createElement("p",null,"Type"),!P&&r.a.createElement("select",{name:"Type",onChange:function(e){var a;"add_new"===(a=e.target.value)?(j(!0),s("Other")):s(a)}},_.map((function(e,a){return r.a.createElement("option",{key:a,value:e},e)})),r.a.createElement("option",{value:"add_new"},"Add New Type")),P&&r.a.createElement("input",{type:"text",placeholder:"Custom Type",onChange:function(e){s(e.target.value)}}),r.a.createElement("p",null,"Stat level"),r.a.createElement("input",{type:"number",placeholder:"Stat Level",onChange:function(e){v(e.target.value)}})),r.a.createElement("button",{onClick:function(){return R()}},"Add Stat!"),x.map((function(e,a){return r.a.createElement("p",{key:a},"- ",e," -")}))))}function ce(e){var a=r.a.useState(!1),t=Object(o.a)(a,2),n=t[0],c=t[1],l=r.a.useState(e.item.name),u=Object(o.a)(l,2),m=u[0],i=u[1],s=r.a.useState(e.item.cost),p=Object(o.a)(s,2),h=p[0],d=p[1],v=r.a.useState(e.item.amount),E=Object(o.a)(v,2),f=E[0],b=E[1],g=r.a.useState(e.item.desc),y=Object(o.a)(g,2),C=y[0],x=y[1],w=r.a.useState(e.item.type),k=Object(o.a)(w,2),N=k[0],_=k[1],S=r.a.useState([]),O=Object(o.a)(S,2),I=O[0],P=O[1],j=function(){P([]);var a=!0,t=[];if(""===m&&(a=!1,t.push("Invalid Item Name")),""===h&&(a=!1,t.push("Invalid Item Cost")),f<=0&&(a=!1,t.push("Invalid Item Amount")),P(t),a){var n=B(e.character.inventory,"name",e.item.name);e.character.inventory[n].name=m,e.character.inventory[n].cost=h,e.character.inventory[n].amount=f,e.character.inventory[n].desc=C,e.character.inventory[n].type=N,e.updatedCharacter(e.character),c(!1)}};return r.a.createElement("div",{className:"ItemCard Card"},r.a.createElement("p",{onClick:function(){c(!0)}},"Name: ",e.item.name," "),r.a.createElement(F.a,{isOpen:n,onRequestClose:function(){return j()},shouldCloseOnOverlayClick:!0,className:"Modal"},r.a.createElement("input",{type:"text",placeholder:"name",value:m,onChange:function(e){i(e.target.value)}})," ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"cost",value:h,onChange:function(e){d(e.target.value)}})," ",r.a.createElement("br",null),r.a.createElement("input",{type:"number",placeholder:"amount",value:f,onChange:function(e){b(e.target.value)}})," ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"description",value:C,onChange:function(e){x(e.target.value)}})," ",r.a.createElement("br",null),r.a.createElement("select",{name:"Type",value:N,onChange:function(e){_(e.target.value)}},Q.map((function(e,a){return r.a.createElement("option",{key:a,value:e},e)}))),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.character.inventory.splice(e.character.inventory.findIndex((function(a){return a.name===e.item.name})),1),e.updatedCharacter(e.character),c(!1)}},"Remove"),r.a.createElement("button",{onClick:function(){return j()}},"Save"),I.map((function(e,a){return r.a.createElement("p",{key:a},"- ",e," -")}))))}function le(e){var a=r.a.useState(""),t=Object(o.a)(a,2),n=t[0],c=t[1],l=r.a.useState(""),u=Object(o.a)(l,2),m=u[0],i=u[1],s=r.a.useState("Weapon"),p=Object(o.a)(s,2),h=p[0],d=p[1],v=r.a.useState(0),E=Object(o.a)(v,2),f=E[0],b=E[1],g=r.a.useState(""),y=Object(o.a)(g,2),C=y[0],x=y[1],w=r.a.useState(!1),k=Object(o.a)(w,2),N=k[0],_=k[1],S=r.a.useState([]),O=Object(o.a)(S,2),I=O[0],P=O[1],j=function(){P([]),_(!1)},M=function(){P([]);var a,t,r=!0,l=[];if(""===n&&(r=!1,l.push("Invalid Item Name")),""===C&&(r=!1,l.push("Invalid Item Cost")),f<=0&&(r=!1,l.push("Invalid Item Amount")),P(l),r){var o=(a=m,t=h,{name:n,cost:C,amount:parseInt(f),desc:a,type:t});e.character.inventory.push(o),e.updatedCharacter(e.character),c(""),i(""),x(""),d("Weapon"),b(0),j()}},T=r.a.useState(""),H=Object(o.a)(T,2),L=H[0],X=H[1],D=e.character.inventory;if(""!==L){var B=["name","type","desc","cost"];D=D.filter((function(e){var a=!1;return B.forEach((function(t){-1!==e[t].toLowerCase().indexOf(L.toLocaleLowerCase())&&(a=!0)})),a}))}return r.a.createElement("div",{className:"Inventory page"},r.a.createElement("button",{onClick:function(){_(!0)}},"Add New Item"),r.a.createElement("input",{className:"searchbar",type:"text",placeholder:"inventory",onChange:function(e){X(e.target.value)}}),D.map((function(a,t){return r.a.createElement(ce,{key:t,item:a,character:e.character,updatedCharacter:e.updatedCharacter})})),r.a.createElement($,null),r.a.createElement(F.a,{isOpen:N,onRequestClose:function(){return j()},shouldCloseOnOverlayClick:!0,className:"Modal"},r.a.createElement("form",null,r.a.createElement("input",{type:"text",placeholder:"Item Name",onChange:function(e){c(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Description",onChange:function(e){i(e.target.value)}}),r.a.createElement("input",{type:"number",placeholder:"Amount",onChange:function(e){b(e.target.value)}}),r.a.createElement("input",{type:"cost",placeholder:"Cost",onChange:function(e){x(e.target.value)}}),r.a.createElement("select",{name:"Type",value:h,onChange:function(e){d(e.target.value)}},Q.map((function(e,a){return r.a.createElement("option",{key:a,value:e},e)})))),r.a.createElement("button",{onClick:function(){return M()}},"Add"),r.a.createElement("button",{onClick:function(){return j()}},"Close"),I.map((function(e,a){return r.a.createElement("p",{key:a},"- ",e," -")}))))}function oe(e){var a=r.a.useState(!1),t=Object(o.a)(a,2),n=t[0],c=t[1],l=function(){c(!1)},u=function(a,t){e.character.combats.find((function(a){return a.name===e.combat.name}))[t]+=a,e.updatedCharacter(e.character)};return r.a.createElement("div",{className:"CombatCard Card"},r.a.createElement("div",{onClick:function(){c(!0)}}," Name: ",e.combat.name," :",null!=e.combat.value&&e.combat.value,null!=e.combat.type&&r.a.createElement("p",null,"Saving throws"),null!=e.combat.maximum&&r.a.createElement("p",null," Maximum: ",e.combat.maximum),null!=e.combat.total&&r.a.createElement("p",null," Total: ",e.combat.total),null!=e.combat.successes&&r.a.createElement("p",null," Successes: ",e.combat.successes," Failiures: ",e.combat.failures)),r.a.createElement(F.a,{isOpen:n,onRequestClose:function(){return l()},shouldCloseOnOverlayClick:!0,className:"Modal"},r.a.createElement("h2",null,e.combat.name),null!=e.combat.value&&r.a.createElement("div",null,r.a.createElement("p",null,"Value: ",e.combat.value," "),r.a.createElement("button",{onClick:function(){return u(-1,"value")}},"-"),r.a.createElement("button",{onClick:function(){return u(1,"value")}},"+")),null!=e.combat.maximum&&r.a.createElement("div",null,r.a.createElement("p",null,"Maximum: ",e.combat.maximum," "),r.a.createElement("button",{onClick:function(){return u(-1,"maximum")}},"-"),r.a.createElement("button",{onClick:function(){return u(1,"maximum")}},"+")),null!=e.combat.total&&r.a.createElement("div",null,r.a.createElement("p",null,"Total: ",e.combat.total),r.a.createElement("button",{onClick:function(){return u(-1,"total")}},"-"),r.a.createElement("button",{onClick:function(){return u(1,"total")}},"+")),null!=e.combat.successes&&r.a.createElement("div",null,r.a.createElement("p",null,"Successes: ",e.combat.successes),r.a.createElement("button",{onClick:function(){return u(-1,"successes")}},"-"),r.a.createElement("button",{onClick:function(){return u(1,"successes")}},"+"),r.a.createElement("p",null,"Failiures: ",e.combat.failures),r.a.createElement("button",{onClick:function(){return u(-1,"failures")}},"-"),r.a.createElement("button",{onClick:function(){return u(1,"failures")}},"+")),r.a.createElement("button",{onClick:function(){return l()}},"Close")))}function ue(e){var a=r.a.useState(""),t=Object(o.a)(a,2),n=t[0],c=t[1],l=e.character.combats;if(""!==n){var u=["name"];l=l.filter((function(e){var a=!1;return u.forEach((function(t){-1!==e[t].toLowerCase().indexOf(n.toLocaleLowerCase())&&(a=!0)})),a}))}return r.a.createElement("div",{className:"combat page"},r.a.createElement("input",{type:"text",placeholder:"combat",onChange:function(e){c(e.target.value)}}),l.map((function(a,t){return r.a.createElement(oe,{key:t,combat:a,character:e.character,updatedCharacter:e.updatedCharacter})})),r.a.createElement($,null))}var me=function(e){var a=e.match,t=r.a.useState([]),n=Object(o.a)(t,2),c=n[0],l=n[1],u=r.a.useState(!1),m=Object(o.a)(u,2),i=m[0],s=m[1],p=r.a.useState(null),h=Object(o.a)(p,2),d=h[0],v=h[1],E=r.a.useState(!1),f=Object(o.a)(E,2),b=f[0],g=f[1],y=r.a.useState("stats"),C=Object(o.a)(y,2),x=C[0],w=C[1],k=function(e){var a=B(c,"ID",e.ID);c[a]=e,X(c,g),v(e)};return b&&g(!1),i?(d=c.find((function(e){return e.ID.toString()===a.params.ID})),"stats"===x?r.a.createElement("div",null,r.a.createElement(Z,{character:d,currentPage:x,setCurrentPage:w,updatedCharacter:k}),r.a.createElement(re,{character:d,updatedCharacter:k})):"inventory"===x?r.a.createElement("div",null,r.a.createElement(Z,{character:d,currentPage:x,setCurrentPage:w,updatedCharacter:k}),r.a.createElement(le,{character:d,updatedCharacter:k})):"combat"===x?r.a.createElement("div",null,r.a.createElement(Z,{character:d,currentPage:x,setCurrentPage:w,updatedCharacter:k}),r.a.createElement(ue,{character:d,updatedCharacter:k})):r.a.createElement("div",null,"Something went wrong")):(L(l,s),r.a.createElement("div",null,"Loading Character"))},ie=t(17);var se=function(){return r.a.createElement(u.a,null,r.a.createElement(ie.c,null,r.a.createElement(ie.a,{path:"/character_page/:ID",component:me}),r.a.createElement(ie.a,{path:"/"},r.a.createElement(K,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},31:function(e,a,t){e.exports=t.p+"static/media/wizard_color.28c76236.png"},70:function(e,a,t){e.exports=t.p+"static/media/elf.b2ff27af.png"},71:function(e,a,t){e.exports=t.p+"static/media/orc.abfd03a2.png"},72:function(e,a,t){e.exports=t.p+"static/media/rogue.9f34dfdd.png"},73:function(e,a,t){e.exports=t.p+"static/media/knight.b564c383.png"},74:function(e,a,t){e.exports=t.p+"static/media/constitution_color.fc06735b.png"},75:function(e,a,t){e.exports=t.p+"static/media/Intelligence_color.bd5c97b5.png"},76:function(e,a,t){e.exports=t.p+"static/media/Strength_color.509a3f71.png"},77:function(e,a,t){e.exports=t.p+"static/media/wisdom_color.e0680679.png"},78:function(e,a,t){e.exports=t.p+"static/media/charisma.51c18790.png"},79:function(e,a,t){e.exports=t.p+"static/media/dexterity.e0a46776.png"},82:function(e,a,t){e.exports=t(190)},87:function(e,a,t){},88:function(e,a,t){}},[[82,1,2]]]);
//# sourceMappingURL=main.4e63b544.chunk.js.map